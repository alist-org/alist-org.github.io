import{_ as u}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as h,c as _,a,d as n,b as e,w as s,e as i,r as t}from"./app.b7497683.js";const b={},k=i('<h1 id="通用项" tabindex="-1"><a class="header-anchor" href="#通用项" aria-hidden="true">#</a> 通用项</h1><h2 id="挂载路径" tabindex="-1"><a class="header-anchor" href="#挂载路径" aria-hidden="true">#</a> 挂载路径</h2><p>唯一标识，即要挂载到的位置，如果要挂载到根目录，就是 <code>/</code></p><h2 id="顺序" tabindex="-1"><a class="header-anchor" href="#顺序" aria-hidden="true">#</a> 顺序</h2><p>当有多个账户时，用于排序，越小越靠前</p><h2 id="备注" tabindex="-1"><a class="header-anchor" href="#备注" aria-hidden="true">#</a> 备注</h2><p>随便你想填什么，只是提醒你这个存储是什么</p><h2 id="缓存过期" tabindex="-1"><a class="header-anchor" href="#缓存过期" aria-hidden="true">#</a> 缓存过期</h2><p>目录结构的缓存时间。</p><h2 id="web-代理" tabindex="-1"><a class="header-anchor" href="#web-代理" aria-hidden="true">#</a> Web 代理</h2>',10),m=a("h2",{id:"webdav-策略",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#webdav-策略","aria-hidden":"true"},"#"),n(" WebDAV 策略")],-1),f=a("ul",null,[a("li",null,"302 重定向：重定向到真实链接"),a("li",null,"使用代理 URL：重定向到代理 URL"),a("li",null,"本机代理：直接通过本地中转返回数据（最佳兼容性）")],-1),x=a("h2",{id:"下载代理-url",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#下载代理-url","aria-hidden":"true"},"#"),n(" 下载代理 URL")],-1),g=a("p",null,"开启代理时不填写此字段，默认使用本机进行传输。提供了两种代理方式：",-1),v=a("p",null,"可以使用 Cloudflare Workers 做代理，这里填写 Workers 地址即可。",-1),L={href:"https://github.com/alist-org/alist-proxy/blob/main/alist-proxy.js",target:"_blank",rel:"noopener noreferrer"},w=a("ul",null,[a("li",null,[n("ADDRESS: 你的 AList 地址，必须加上协议头，后面不能跟 "),a("code",null,"/"),n("。如 "),a("code",null,"https://pan.nn.ci"),n("；")]),a("li",null,"TOKEN: 在 AList 管理页面中进入“其他设置”得到。")],-1),y={href:"https://github.com/alist-org/alist-proxy/releases",target:"_blank",rel:"noopener noreferrer"},R=a("code",null,"./alist-proxy -help",-1),A=i(`<p>你甚至可以开发自己的代理程序，一般步骤是：</p><ul><li>下载时会请求 <code>PROXY_URL/path?sign=sign_value</code></li><li>在代理程序中验证 sign，sign 的计算方法为：</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sign <span class="token operator">=</span> <span class="token function">hmac</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token constant">TOKEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>验证签名正确后，请求 <code>HOST/api/fs/link</code>，可以得到文件的 URL 和要携带的请求头</li><li>使用信息请求和返回</li></ul><h2 id="排序相关" tabindex="-1"><a class="header-anchor" href="#排序相关" aria-hidden="true">#</a> 排序相关</h2><ul><li>排序方式：按什么排序</li><li>排序方向：排序方向是升序还是降序</li></ul><div class="custom-container info"><p class="custom-container-title">相关信息</p><p>有些驱动器使用自己的排序方法，可能会有所不同。</p></div><h2 id="提取文件夹" tabindex="-1"><a class="header-anchor" href="#提取文件夹" aria-hidden="true">#</a> 提取文件夹</h2><ul><li>提取到前面：排序时将所有文件夹放在前面</li><li>提取到后面：排序时将所有文件夹放在后面</li></ul>`,9);function E(N,T){const l=t("RouterLink"),o=t("ExternalLinkIcon"),r=t("Tabs");return h(),_("div",null,[k,a("p",null,[n("网页预览、下载和直接链接是否通过中转。如果你打开此项，建议你设置"),e(l,{to:"/zh/config/configuration.html#site_url"},{default:s(()=>[n("site_url")]),_:1}),n("，以帮助alist更好的工作。")]),m,f,x,g,e(r,{id:"59",data:[{title:"cloudflare workers"},{title:"通用二进制"}]},{tab0:s(({title:c,value:p,isActive:d})=>[v,a("p",null,[n("Workers 代码可以在 "),a("a",L,[n("https://github.com/alist-org/alist-proxy/blob/main/alist-proxy.js"),e(o)]),n(" 找到，实际使用时需要替换其中的这两个变量：")]),w]),tab1:s(({title:c,value:p,isActive:d})=>[a("p",null,[n("也可以使用另一台机器进行代理，在 "),a("a",y,[n("https://github.com/alist-org/alist-proxy/releases"),e(o)]),n(" 下载程序并通过 "),R,n(" 查看使用方法。")])]),_:1}),A])}const V=u(b,[["render",E],["__file","common.html.vue"]]);export{V as default};
