import{c as C,r as T,u as e,N as o,O as c,P as _,a5 as s,a7 as i,Q as r,aa as B,Z as m,_ as x,a4 as V,G as z}from"./framework-65876511.js";import{N,a as E}from"./Spin-8560ca0c.js";import{N as L,a as w}from"./Space-426f3535.js";import"./app-55afeb55.js";import"./Close-174f6d1f.js";const O=r("b",null,"client_id: ",-1),R=r("b",null,"client_secret: ",-1),U=r("b",null,"redirect_uri: ",-1),j=r("b",null,"refresh_token:",-1),A=C({__name:"Callback",setup(P){const n=new URL(window.location.href),p=n.searchParams.get("code"),u=n.searchParams.get("state"),d=n.searchParams.get("error"),S=n.searchParams.get("error_description"),[h,f,k]=atob(u).split("::"),t=T();return p&&!d&&(async()=>{const a=new URLSearchParams;a.append("client_id",h),a.append("client_secret",f),a.append("code",p),a.append("grant_type","authorization_code"),a.append("redirect_uri",k),fetch("https://www.googleapis.com/oauth2/v4/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a}).then(l=>l.json()).then(l=>{console.log(l),t.value=l})})(),(a,l)=>!e(p)||e(d)?(o(),c(e(N),{key:0,title:e(d)||"Error",type:"error"},{default:_(()=>[s(i(e(S)),1)]),_:1},8,["title"])):(o(),c(e(w),{key:1,vertical:"",size:"large"},{default:_(()=>{var v,y,b;return[r("p",null,[O,s(i(e(h)),1)]),r("p",null,[R,s(i(e(f)),1)]),r("p",null,[U,s(i(e(k)),1)]),(v=t.value)!=null&&v.error||(y=t.value)!=null&&y.error_description?(o(),c(e(N),{key:0,title:(b=t.value)==null?void 0:b.error,type:"error"},{default:_(()=>[s(i(t.value.error_description),1)]),_:1},8,["title"])):B("v-if",!0),m(e(w),{vertical:""},{default:_(()=>{var g;return[j,(g=t.value)!=null&&g.refresh_token?(o(),c(e(L),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(o(),c(e(E),{key:0}))]}),_:1})]}),_:1}))}});const D=x(A,[["__file","Callback.vue"]]),G=C({__name:"callback.html",setup(P){return(n,p)=>{const u=z("NaiveClient");return o(),V("div",null,[m(u,null,{default:_(()=>[m(e(D))]),_:1})])}}}),H=x(G,[["__file","callback.html.vue"]]);export{H as default};
