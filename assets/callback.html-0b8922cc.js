import{c as P,r as V,u as e,N as r,O as s,P as n,W as c,a9 as l,Q as a,ac as B,a0 as f,ad as I,ae as G,_ as w,a7 as T,G as z}from"./framework-939b1f57.js";import{N as y}from"./Alert-d99a5dcf.js";import{N as K}from"./Spin-a70d15dd.js";import{N as O}from"./Input-caac3f88.js";import{N as g}from"./Space-54b423dd.js";import"./app-8d47a33c.js";import"./use-compitable-6687ce15.js";const i=o=>(I("data-v-5daf2013"),o=o(),G(),o),W=i(()=>a("b",null,"client_id: ",-1)),j=i(()=>a("b",null,"client_secret: ",-1)),E=i(()=>a("b",null,"redirect_uri: ",-1)),F=i(()=>a("b",null,"refresh_token:",-1)),M=P({__name:"Callback",setup(o){const m="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",v="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",_="https://alist.nn.ci/tool/baidu/callback",p=new URL(window.location.href),u=p.searchParams.get("code"),d=p.searchParams.get("error"),x=p.searchParams.get("error_description"),t=V();return u&&!d&&(async()=>{const h=await(await fetch(`https://api.nn.ci/alist/baidu/get_refresh_token?code=${u}`)).json();t.value=h})(),(S,h)=>!e(u)||e(d)?(r(),s(e(y),{key:0,title:e(d)||"Error",type:"error"},{default:n(()=>[c(l(e(x)),1)]),_:1},8,["title"])):(r(),s(e(g),{key:1,vertical:"",size:"large"},{default:n(()=>{var k,N,b;return[a("p",null,[W,c(l(m))]),a("p",null,[j,c(l(v))]),a("p",null,[E,c(l(_))]),(k=t.value)!=null&&k.error||(N=t.value)!=null&&N.error_description?(r(),s(e(y),{key:0,title:(b=t.value)==null?void 0:b.error,type:"error"},{default:n(()=>[c(l(t.value.error_description),1)]),_:1},8,["title"])):B("v-if",!0),f(e(g),{vertical:""},{default:n(()=>{var C;return[F,(C=t.value)!=null&&C.refresh_token?(r(),s(e(O),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(r(),s(e(K),{key:0}))]}),_:1})]}),_:1}))}});const Q=w(M,[["__scopeId","data-v-5daf2013"],["__file","Callback.vue"]]),R=P({__name:"callback.html",setup(o){return(m,v)=>{const _=z("NaiveClient");return r(),T("div",null,[f(_,null,{default:n(()=>[f(e(Q))]),_:1})])}}}),Y=w(R,[["__file","callback.html.vue"]]);export{Y as default};
