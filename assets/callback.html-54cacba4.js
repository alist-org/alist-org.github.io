import{N as y,a as V}from"./Spin-d10428c0.js";import{c as P,r as B,u as e,N as r,O as s,P as n,a7 as c,a9 as l,U as a,ac as I,a0 as f,Q as G,S as T,_ as w,a6 as z,G as K}from"./framework-2769d840.js";import{N as O,a as g}from"./Space-947048eb.js";import"./app-af6bb22d.js";import"./Close-dbc950c8.js";const _=o=>(G("data-v-5daf2013"),o=o(),T(),o),U=_(()=>a("b",null,"client_id: ",-1)),j=_(()=>a("b",null,"client_secret: ",-1)),E=_(()=>a("b",null,"redirect_uri: ",-1)),F=_(()=>a("b",null,"refresh_token:",-1)),M=P({__name:"Callback",setup(o){const v="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",h="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",i="https://alist.nn.ci/tool/baidu/callback",u=new URL(window.location.href),p=u.searchParams.get("code"),d=u.searchParams.get("error"),x=u.searchParams.get("error_description"),t=B();return p&&!d&&(async()=>{const k=await(await fetch(`https://api.nn.ci/alist/baidu/get_refresh_token?code=${p}`)).json();t.value=k})(),(S,k)=>!e(p)||e(d)?(r(),s(e(y),{key:0,title:e(d)||"Error",type:"error"},{default:n(()=>[c(l(e(x)),1)]),_:1},8,["title"])):(r(),s(e(g),{key:1,vertical:"",size:"large"},{default:n(()=>{var m,b,C;return[a("p",null,[U,c(l(v))]),a("p",null,[j,c(l(h))]),a("p",null,[E,c(l(i))]),(m=t.value)!=null&&m.error||(b=t.value)!=null&&b.error_description?(r(),s(e(y),{key:0,title:(C=t.value)==null?void 0:C.error,type:"error"},{default:n(()=>[c(l(t.value.error_description),1)]),_:1},8,["title"])):I("v-if",!0),f(e(g),{vertical:""},{default:n(()=>{var N;return[F,(N=t.value)!=null&&N.refresh_token?(r(),s(e(O),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(r(),s(e(V),{key:0}))]}),_:1})]}),_:1}))}});const Q=w(M,[["__scopeId","data-v-5daf2013"],["__file","Callback.vue"]]),R=P({__name:"callback.html",setup(o){return(v,h)=>{const i=K("NaiveClient");return r(),z("div",null,[f(i,null,{default:n(()=>[f(e(Q))]),_:1})])}}}),H=w(R,[["__file","callback.html.vue"]]);export{H as default};
