import{c as x,r as S,u as e,N as o,O as n,P as s,a5 as c,a7 as l,Q as a,aa as B,Z as h,_ as C,a4 as T,G as V}from"./framework-65876511.js";import{N as y,a as z}from"./Spin-08829354.js";import{N as E,a as N}from"./Space-ed3f6b4b.js";import"./app-05c8b916.js";import"./Close-507d69bf.js";const L=a("b",null,"client_id: ",-1),O=a("b",null,"client_secret: ",-1),R=a("b",null,"redirect_uri: ",-1),U=a("b",null,"refresh_token:",-1),j=x({__name:"Callback",setup(g){const i="a78d5a69054042fa936f6c77f9a0ae8b",p="9c119bbb04b346d2a52aa64401936b2b",u="https://alist.nn.ci/tool/yandex/callback",d=new URL(window.location.href),f=d.searchParams.get("code"),m=d.searchParams.get("error"),w=d.searchParams.get("error_description"),t=S();return f&&!m&&(async()=>{const r=new URLSearchParams;r.append("grant_type","authorization_code"),r.append("client_id",i),r.append("client_secret",p),r.append("code",f||"");const _=await(await fetch("https://oauth.yandex.com/token",{method:"POST",body:r})).json();t.value=_})(),(r,P)=>!e(f)||e(m)?(o(),n(e(y),{key:0,title:e(m)||"Error",type:"error"},{default:s(()=>[c(l(e(w)),1)]),_:1},8,["title"])):(o(),n(e(N),{key:1,vertical:"",size:"large"},{default:s(()=>{var _,k,b;return[a("p",null,[L,c(l(i))]),a("p",null,[O,c(l(p))]),a("p",null,[R,c(l(u))]),(_=t.value)!=null&&_.error||(k=t.value)!=null&&k.error_description?(o(),n(e(y),{key:0,title:(b=t.value)==null?void 0:b.error,type:"error"},{default:s(()=>[c(l(t.value.error_description),1)]),_:1},8,["title"])):B("v-if",!0),h(e(N),{vertical:""},{default:s(()=>{var v;return[U,(v=t.value)!=null&&v.refresh_token?(o(),n(e(E),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(o(),n(e(z),{key:0}))]}),_:1})]}),_:1}))}});const A=C(j,[["__file","Callback.vue"]]),D=x({__name:"callback.html",setup(g){return(i,p)=>{const u=V("NaiveClient");return o(),T("div",null,[h(u,null,{default:s(()=>[h(e(A))]),_:1})])}}}),F=C(D,[["__file","callback.html.vue"]]);export{F as default};
