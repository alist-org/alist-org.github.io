import{N as m}from"./Alert-2ae2cb3e.js";import{c as k,r as b,u as e,N as t,O as s,P as c,W as f,a9 as v,ac as x,a0 as i,ad as S,ae as w,Q as I,_ as y,a7 as P,G as T}from"./framework-939b1f57.js";import{N as B}from"./Spin-138c046f.js";import{N as V}from"./Input-bff76713.js";import{N as h}from"./Space-9aece19a.js";import"./app-263cfebb.js";import"./use-compitable-6687ce15.js";const z=r=>(S("data-v-804a2d94"),r=r(),w(),r),O=z(()=>I("b",null,"refresh_token:",-1)),j=k({__name:"Callback",setup(r){const n=new URL(window.location.href),l=n.searchParams.get("code"),o=n.searchParams.get("error"),N=n.searchParams.get("error_description"),a=b(),C="https://api.nn.ci";return l&&!o&&(async()=>{const _=await(await fetch(C+"/alist/ali_open/code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:l,grant_type:"authorization_code"})})).json();a.value=_})(),(g,_)=>!e(l)||e(o)?(t(),s(e(m),{key:0,title:e(o)||"Error",type:"error"},{default:c(()=>[f(v(e(N)),1)]),_:1},8,["title"])):(t(),s(e(h),{key:1,vertical:"",size:"large"},{default:c(()=>{var p,u,d;return[(p=a.value)!=null&&p.error||(u=a.value)!=null&&u.error?(t(),s(e(m),{key:0,title:(d=a.value)==null?void 0:d.error,type:"error"},{default:c(()=>[f(v(a.value.error),1)]),_:1},8,["title"])):x("v-if",!0),i(e(h),{vertical:""},{default:c(()=>[O,a.value?(t(),s(e(V),{key:1,type:"textarea",autosize:"",readonly:"",value:a.value.refresh_token},null,8,["value"])):(t(),s(e(B),{key:0}))]),_:1})]}),_:1}))}});const E=y(j,[["__scopeId","data-v-804a2d94"],["__file","Callback.vue"]]),A=k({__name:"callback.html",setup(r){return(n,l)=>{const o=T("NaiveClient");return t(),P("div",null,[i(o,null,{default:c(()=>[i(e(E))]),_:1})])}}}),$=y(A,[["__file","callback.html.vue"]]);export{$ as default};
