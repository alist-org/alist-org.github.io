import{c as b,r as i,N as x,a9 as y,Q as e,W as a,a1 as h,ae as p,ah as _,aa as m,ag as S,G as v,_ as w}from"./framework-95cb4087.js";const U=S('<h1 id="_115网盘" tabindex="-1"><a class="header-anchor" href="#_115网盘" aria-hidden="true">#</a> 115网盘</h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>由于115网盘的限制，下载必须携带 Cookies，所以只能使用本程序中的代理功能进行传输。 （可以用其他机器转）</p></div><h2 id="根文件夹id" tabindex="-1"><a class="header-anchor" href="#根文件夹id" aria-hidden="true">#</a> 根文件夹ID</h2><p>打开115网盘官网，点击进入要设置的文件夹时点击 URL中 <code>cid</code>后面的数字</p>',4),q={href:"https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan",target:"_blank",rel:"noopener noreferrer"},T=e("p",null,[a("这个文件夹的 "),e("code",null,"根文件夹ID"),a(" 即为 "),e("code",null,"249163533602609229")],-1),V=e("h2",{id:"qrcode-扫码方式登录",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#qrcode-扫码方式登录","aria-hidden":"true"},"#"),a(" QRCode 扫码方式登录")],-1),z=["disabled"],C={style:{margin:"4px"}},L=["src"],B={class:"hint-container info"},N={class:"hint-container-title"},Q=e("h2",{id:"cookie-方式登录",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#cookie-方式登录","aria-hidden":"true"},"#"),a(" Cookie 方式登录")],-1),K=e("p",null,[e("code",null,"Cookie"),a("可以浏览器登录从浏览器的"),e("code",null,"api"),a("中获取，也可用抓包115应用获取cookie，115应用的有效期比较长，注意cookie最后不要有"),e("code",null,";"),a("。")],-1),D=e("h3",{id:"默认使用的下载方式",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#默认使用的下载方式","aria-hidden":"true"},"#"),a(" 默认使用的下载方式")],-1),F=b({__name:"115.html",setup(E){const o=i("获取二维码"),t=i(0),d=i(""),l=i(""),s=i(""),f=async()=>{o.value="等待...",t.value=1;const n=await(await fetch("https://api.nn.ci/proxy/qrcodeapi.115.com/api/1.0/web/1.0/token")).json();console.log(n),o.value="使用115网盘 APP 扫描然后点击",t.value=2,s.value={uid:n.data.uid,time:n.data.time.toString(),sign:n.data.sign,_:(new Date().getTime()/1e3).toString()},d.value=`https://api.nn.ci/qr/?size=400&text=${encodeURIComponent(n.data.qrcode)}`},k=async()=>{t.value=3,o.value="等待...";const n=await(await fetch(`https://api.nn.ci/proxy/qrcodeapi.115.com/get/status/?uid=${s.value.uid}&time=${s.value.time}&sign=${s.value.sign}&_=${s.value._}`)).json(),{data:{version:u,status:c,msg:I}}=n;if(c!==2){t.value=2,o.value="使用115网盘 APP 扫描然后点击",alert("Status:"+c);return}l.value=s.value.uid,o.value="获取 Token 成功",t.value=4,console.log(n)},g=async()=>{t.value===0&&f(),t.value===2&&k()};return(r,n)=>{const u=v("ExternalLinkIcon"),c=v("Mermaid");return x(),y("div",null,[U,e("p",null,[a("如 "),e("a",q,[a("https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan"),h(u)])]),T,V,e("p",null,[e("button",{disabled:t.value===3||t.value===1,style:{outline:"none",padding:"12px",background:"#70c6be",border:"none","border-radius":"8px",cursor:"pointer","font-size":"20px"},onClick:g},p(o.value),9,z)]),_(e("div",C,[e("img",{src:d.value},null,8,L)],512),[[m,d.value]]),_(e("div",null,[e("div",B,[e("p",N,"Token: "+p(l.value),1)])],512),[[m,l.value]]),Q,K,D,h(c,{id:"mermaid-41",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57NaXjYtfr6898mO7hd79z6btvPpnv73e+ZzgdSn5eSXJ2ckFpUohDhxKQBBcUllTqpCsqFCWmZOjpVyUlKaTnFJUX52qpVympkZlK1bnplSkmFlVFChk5yfk18ElEtLQ9KeaATVnpZmbmpuCjfB2NgY1QSTggqIttKk9KLEggyFzJRUQ4VohViwaLIhmErNS4Fyo5/NWfNszq4nuxc/n9AWa2VlVZyfm5qck1hcbGsL8bKtrV2iUTTQ1886tr9Yt+/pknaoUSBFLqlpCnAdMBdamoEVJBlGQ4wNDfKJ1dUDanzZ0Kmni8u0zORsoBYFJT09/ZSizLLUomL95Pzc3Pw8vYyS3Bzl8tSklMQy3edrpz2fulQJSQ8wYInUAwBY/Lb1"})])}}}),P=w(F,[["__file","115.html.vue"]]);export{P as default};
