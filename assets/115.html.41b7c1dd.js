import{f as g,g as i,o as k,c as x,a as e,d as a,b,t as p,h,v as _,e as w,r as y}from"./app.453d40b9.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";const q=w('<h1 id="_115网盘" tabindex="-1"><a class="header-anchor" href="#_115网盘" aria-hidden="true">#</a> 115网盘</h1><div class="custom-container tip"><p class="custom-container-title">提示</p><p>由于115网盘的限制，下载必须携带 Cookies，所以只能使用本程序中的代理功能进行传输。 （可以用其他机器转）</p></div><h2 id="根文件夹id" tabindex="-1"><a class="header-anchor" href="#根文件夹id" aria-hidden="true">#</a> 根文件夹ID</h2><p>打开115网盘官网，点击进入要设置的文件夹时点击 URL中 <code>cid</code>后面的数字</p>',4),D={href:"https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan",target:"_blank",rel:"noopener noreferrer"},S=e("p",null,[a("这个文件夹的 "),e("code",null,"根文件夹ID"),a(" 即为 "),e("code",null,"249163533602609229")],-1),T=e("h2",{id:"qrcode-扫码方式登录",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#qrcode-扫码方式登录","aria-hidden":"true"},"#"),a(" QRCode 扫码方式登录")],-1),I=["disabled"],$={style:{margin:"4px"}},N=["src"],P={class:"custom-container info"},V={class:"custom-container-title"},B=e("h2",{id:"cookie-方式登录",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#cookie-方式登录","aria-hidden":"true"},"#"),a(" Cookie 方式登录")],-1),E=e("p",null,[e("code",null,"Cookie"),a("可以浏览器登录从浏览器的"),e("code",null,"api"),a("中获取，也可用抓包115应用获取cookie，115应用的有效期比较长，注意cookie最后不要有"),e("code",null,";"),a("。")],-1),L=g({__name:"115.html",setup(R){const n=i("获取二维码"),t=i(0),c=i(""),r=i(""),s=i(""),v=async()=>{n.value="等待...",t.value=1;const o=await(await fetch("https://api.nn.ci/proxy/qrcodeapi.115.com/api/1.0/web/1.0/token")).json();console.log(o),n.value="使用115网盘 APP 扫描然后点击",t.value=2,s.value={uid:o.data.uid,time:o.data.time.toString(),sign:o.data.sign,_:(new Date().getTime()/1e3).toString()},c.value=`https://api.nn.ci/qr/?size=400&text=${encodeURIComponent(o.data.qrcode)}`},m=async()=>{t.value=3,n.value="等待...";const o=await(await fetch(`https://api.nn.ci/proxy/qrcodeapi.115.com/get/status/?uid=${s.value.uid}&time=${s.value.time}&sign=${s.value.sign}&_=${s.value._}`)).json(),{data:{version:d,status:u,msg:j}}=o;if(u!==2){t.value=2,n.value="使用115网盘 APP 扫描然后点击",alert("Status:"+u);return}r.value=s.value.uid,n.value="获取 Token 成功",t.value=4,console.log(o)},f=async()=>{t.value===0&&v(),t.value===2&&m()};return(l,o)=>{const d=y("ExternalLinkIcon");return k(),x("div",null,[q,e("p",null,[a("如 "),e("a",D,[a("https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan"),b(d)])]),S,T,e("p",null,[e("button",{disabled:t.value===3||t.value===1,style:{outline:"none",padding:"12px",background:"#70c6be",border:"none","border-radius":"8px",cursor:"pointer","font-size":"20px"},onClick:f},p(n.value),9,I)]),h(e("div",$,[e("img",{src:c.value},null,8,N)],512),[[_,c.value]]),h(e("div",null,[e("div",P,[e("p",V,"Token: "+p(r.value),1)])],512),[[_,r.value]]),B,E])}}}),Q=C(L,[["__file","115.html.vue"]]);export{Q as default};
