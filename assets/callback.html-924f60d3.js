import{N as m}from"./Alert-d99a5dcf.js";import{c as y,r as x,u as e,N as a,O as s,P as n,W as k,a9 as v,ac as S,a0 as i,ad as w,ae as I,Q as P,_ as N,a7 as T,G as B}from"./framework-939b1f57.js";import{N as V}from"./Spin-a70d15dd.js";import{N as z}from"./Input-caac3f88.js";import{N as h}from"./Space-54b423dd.js";import"./app-8d47a33c.js";import"./use-compitable-6687ce15.js";const O=r=>(w("data-v-5f264026"),r=r(),I(),r),j=O(()=>P("b",null,"refresh_token:",-1)),E=y({__name:"Callback",setup(r){const c=new URL(window.location.href),l=c.searchParams.get("code"),o=c.searchParams.get("error"),C=c.searchParams.get("error_description"),t=x(),g="https://api.nn.ci";return l&&!o&&(async()=>{const _=await(await fetch(g+"/alist/ali_open/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:l,grant_type:"authorization_code"})})).json();t.value=_})(),(b,_)=>!e(l)||e(o)?(a(),s(e(m),{key:0,title:e(o)||"Error",type:"error"},{default:n(()=>[k(v(e(C)),1)]),_:1},8,["title"])):(a(),s(e(h),{key:1,vertical:"",size:"large"},{default:n(()=>{var p,u,d;return[(p=t.value)!=null&&p.error||(u=t.value)!=null&&u.error?(a(),s(e(m),{key:0,title:(d=t.value)==null?void 0:d.error,type:"error"},{default:n(()=>[k(v(t.value.error),1)]),_:1},8,["title"])):S("v-if",!0),i(e(h),{vertical:""},{default:n(()=>{var f;return[j,(f=t.value)!=null&&f.refresh_token?(a(),s(e(z),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(a(),s(e(V),{key:0}))]}),_:1})]}),_:1}))}});const A=N(E,[["__scopeId","data-v-5f264026"],["__file","Callback.vue"]]),D=y({__name:"callback.html",setup(r){return(c,l)=>{const o=B("NaiveClient");return a(),T("div",null,[i(o,null,{default:n(()=>[i(e(A))]),_:1})])}}}),q=N(D,[["__file","callback.html.vue"]]);export{q as default};
