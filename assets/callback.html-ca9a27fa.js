import{N as C}from"./Alert-89ee41d3.js";import{c as g,r as G,u as e,N as r,O as o,P as c,a5 as n,a7 as l,Q as a,aa as T,Z as p,G as d,_ as P,a4 as z}from"./framework-65876511.js";import{N as y}from"./Space-e8f73b8f.js";import"./app-a75274d5.js";import"./Close-e4fd211a.js";const K=a("b",null,"client_id: ",-1),O=a("b",null,"client_secret: ",-1),j=a("b",null,"redirect_uri: ",-1),E=a("b",null,"refresh_token:",-1),F=g({__name:"Callback",setup(x){const f="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",m="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",s="https://alist.nn.ci/tool/baidu/callback",i=new URL(window.location.href),_=i.searchParams.get("code"),u=i.searchParams.get("error"),w=i.searchParams.get("error_description"),t=G();return _&&!u&&(async()=>{const k=await(await fetch(`https://api.nn.ci/alist/baidu/get_refresh_token?code=${_}`)).json();t.value=k})(),(V,k)=>{const B=d("NSpin"),S=d("NInput");return!e(_)||e(u)?(r(),o(e(C),{key:0,title:e(u)||"Error",type:"error"},{default:c(()=>[n(l(e(w)),1)]),_:1},8,["title"])):(r(),o(e(y),{key:1,vertical:"",size:"large"},{default:c(()=>{var v,h,N;return[a("p",null,[K,n(l(f))]),a("p",null,[O,n(l(m))]),a("p",null,[j,n(l(s))]),(v=t.value)!=null&&v.error||(h=t.value)!=null&&h.error_description?(r(),o(e(C),{key:0,title:(N=t.value)==null?void 0:N.error,type:"error"},{default:c(()=>[n(l(t.value.error_description),1)]),_:1},8,["title"])):T("v-if",!0),p(e(y),{vertical:""},{default:c(()=>{var b;return[E,(b=t.value)!=null&&b.refresh_token?(r(),o(S,{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(r(),o(B,{key:0}))]}),_:1})]}),_:1}))}}});const I=P(F,[["__file","Callback.vue"]]),M=g({__name:"callback.html",setup(x){return(f,m)=>{const s=d("NaiveClient");return r(),z("div",null,[p(s,null,{default:c(()=>[p(e(I))]),_:1})])}}}),q=P(M,[["__file","callback.html.vue"]]);export{q as default};
