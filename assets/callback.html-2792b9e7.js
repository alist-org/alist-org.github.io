import{c as g,r as I,u as e,N as o,O as n,P as _,W as s,a9 as l,Q as a,ac as B,a0 as v,ad as T,ae as V,_ as w,a7 as z,G as E}from"./framework-939b1f57.js";import{N as x}from"./Alert-d99a5dcf.js";import{N as L}from"./Spin-a70d15dd.js";import{N as O}from"./Input-caac3f88.js";import{N as C}from"./Space-54b423dd.js";import"./app-8d47a33c.js";import"./use-compitable-6687ce15.js";const p=c=>(T("data-v-e686d010"),c=c(),V(),c),R=p(()=>a("b",null,"client_id: ",-1)),U=p(()=>a("b",null,"client_secret: ",-1)),j=p(()=>a("b",null,"redirect_uri: ",-1)),A=p(()=>a("b",null,"refresh_token:",-1)),D=g({__name:"Callback",setup(c){const d="a78d5a69054042fa936f6c77f9a0ae8b",u="9c119bbb04b346d2a52aa64401936b2b",m="https://alist.nn.ci/tool/yandex/callback",f=new URL(window.location.href),h=f.searchParams.get("code"),k=f.searchParams.get("error"),S=f.searchParams.get("error_description"),t=I();return h&&!k&&(async()=>{const r=new URLSearchParams;r.append("grant_type","authorization_code"),r.append("client_id",d),r.append("client_secret",u),r.append("code",h||"");const i=await(await fetch("https://oauth.yandex.com/token",{method:"POST",body:r})).json();t.value=i})(),(r,P)=>!e(h)||e(k)?(o(),n(e(x),{key:0,title:e(k)||"Error",type:"error"},{default:_(()=>[s(l(e(S)),1)]),_:1},8,["title"])):(o(),n(e(C),{key:1,vertical:"",size:"large"},{default:_(()=>{var i,b,y;return[a("p",null,[R,s(l(d))]),a("p",null,[U,s(l(u))]),a("p",null,[j,s(l(m))]),(i=t.value)!=null&&i.error||(b=t.value)!=null&&b.error_description?(o(),n(e(x),{key:0,title:(y=t.value)==null?void 0:y.error,type:"error"},{default:_(()=>[s(l(t.value.error_description),1)]),_:1},8,["title"])):B("v-if",!0),v(e(C),{vertical:""},{default:_(()=>{var N;return[A,(N=t.value)!=null&&N.refresh_token?(o(),n(e(O),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(o(),n(e(L),{key:0}))]}),_:1})]}),_:1}))}});const G=w(D,[["__scopeId","data-v-e686d010"],["__file","Callback.vue"]]),Q=g({__name:"callback.html",setup(c){return(d,u)=>{const m=E("NaiveClient");return o(),z("div",null,[v(m,null,{default:_(()=>[v(e(G))]),_:1})])}}}),X=w(Q,[["__file","callback.html.vue"]]);export{X as default};
