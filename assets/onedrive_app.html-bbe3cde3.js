import{_ as u,a as h,b as m,c as v,d as f,e as A,f as g,g as x,h as b}from"./onedrive_app_user-ced3cae3.js";import{_ as I,N as D,a9 as B,Q as e,W as t,a1 as l,P as n,ag as d,G as s}from"./framework-95cb4087.js";const T={},k=d('<h1 id="onedrive-app" tabindex="-1"><a class="header-anchor" href="#onedrive-app" aria-hidden="true">#</a> OneDrive APP</h1><h2 id="好处以及注意事项" tabindex="-1"><a class="header-anchor" href="#好处以及注意事项" aria-hidden="true">#</a> 好处以及注意事项</h2><ol><li><p>好处是只授权一次管理员登录，后续添加参数时用一样的，在添加时除了邮箱哪里不同，别的都一样</p><ul><li>例如E5 25个5T的账号，你提前登录初始化完毕后，直接CV之前的参数即可，不用像以前一样每次都得去获取刷新令牌时间一长还失效</li><li>A1 A1P等可以分发的账号更多(500 - <strong>无限</strong>)</li></ul></li><li><p>这样的方式管理员授权后，可以随意查看组织中每个成员的账号，泄露了自己的文件</p><ul><li>建议自己申请 OneDrive E5 去好一些</li></ul></li></ol><hr><p>首先使用个人或者组织账号登录</p>',5),y={href:"https://entra.microsoft.com/#view/Microsoft_AAD_IAM/TenantOverview.ReactView?Microsoft_AAD_IAM_legacyAADRedirect=true",target:"_blank",rel:"noopener noreferrer"},M=d('<p><img src="'+u+'" alt="onedriveapp"></p><h2 id="新建过程" tabindex="-1"><a class="header-anchor" href="#新建过程" aria-hidden="true">#</a> 新建过程</h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>请仔细阅读下面的 <strong><code>序号，依次添加</code></strong> ，如有错误可及时反馈</p></div>',3),C=e("li",null,[e("p",null,"注册一个应用，类型自己选，建议选第三吧")],-1),E={href:"https://entra.microsoft.com/TokenAuthorize",target:"_blank",rel:"noopener noreferrer"},L=e("p",null,[e("img",{src:h,alt:"onedriveapp"})],-1),N=e("p",null,[e("img",{src:m,alt:"onedriveapp"})],-1),V=e("p",null,[t("客户端秘钥拿到了，去授权一下使用的 "),e("strong",null,[e("code",null,"API")]),t("，依旧跟着下图获取即可")],-1),P=e("p",null,[e("img",{src:v,alt:"onedriveapp"})],-1),U=e("p",null,"API授权后，我们去授权组织应用",-1),O=e("ul",null,[e("li",null,[t("左侧侧边栏 ---> 企业应用程序 ---> 所有应用程序 ---> "),e("strong",null,"{选择我们开始新建的哪个应用名称}"),t(" ---> 权限 ---> 点击 代表"),e("code",null,"xxxx"),t("授予管理员同意")])],-1),Z=e("p",null,[e("img",{src:f,alt:"onedriveapp"})],-1),K=e("p",null,"注意事项",-1),F=e("ul",null,[e("li",null,"如果你在开始注册应用时，回调参数不是一样的可能点击授权时会报错，记得写一样的"),e("li",null,[t("如何查看是否授权成功，未授权时页面是提示"),e("code",null,"未发现该应用程序具有管理员许可的授权"),t("，授权成功后刷新一下页面会看到三条API权限如下图所示 "),e("ul",null,[e("li",null,"上面是未授权时的样子，下面是授权后的样子（授权后刷新页面即可）")])])],-1),w=e("p",null,[e("img",{src:A,alt:"onedriveapp"})],-1),z=e("p",null,[t("通过开始到现在 我们分别拿到了如下参数：租户ID"),e("sup",null,"1"),t("，注册应用"),e("sup",null,"2"),t("，拿到客户端ID/秘钥"),e("sup",null,"3"),t("，授权API/管理员API"),e("sup",null,"4")],-1),J=e("div",{class:"language-html line-numbers-mode","data-ext":"html"},[e("pre",{class:"language-html"},[e("code",null,`https://login.microsoftonline.com/{租户ID或者common}/adminConsent?client_id={客户端ID}&redirect_uri={注册应用时的回调URL}
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),R=e("p",null,[e("img",{src:g,alt:"onedriveapp"})],-1),S=d('<h2 id="填写示例" tabindex="-1"><a class="header-anchor" href="#填写示例" aria-hidden="true">#</a> 填写示例</h2><p>将上述过程中获取得到的值依次填入即可，如果哪个邮箱你不知道是什么了 可以通过<a href="#%E6%9F%A5%E7%9C%8B%E7%BB%84%E7%BB%87%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7"><strong>查看组织所有用户</strong></a>来查找</p><p><img src="'+x+'" alt="onedriveapp"></p><h2 id="查看组织所有用户" tabindex="-1"><a class="header-anchor" href="#查看组织所有用户" aria-hidden="true">#</a> 查看组织所有用户</h2><p>如果不知道自己的OneDrive组织有多少用户可以前往下面的链接登录 <code>admin</code>账号查看</p>',5),X={href:"https://admin.microsoft.com/Adminportal/Home?source=applauncher#/users",target:"_blank",rel:"noopener noreferrer"},Y=e("p",null,[e("img",{src:b,alt:"onedriveapp"})],-1),j=e("h3",{id:"默认使用的下载方式",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#默认使用的下载方式","aria-hidden":"true"},"#"),t(" 默认使用的下载方式")],-1);function q(H,W){const c=s("ExternalLinkIcon"),i=s("Badge"),p=s("Tabs"),_=s("Mermaid");return D(),B("div",null,[k,e("p",null,[e("strong",null,[e("a",y,[t("https://entra.microsoft.com/#view/Microsoft_AAD_IAM/TenantOverview.ReactView?Microsoft_AAD_IAM_legacyAADRedirect=true"),l(c)])])]),e("p",null,[t("登录后获取我们的"),l(i,{text:"租户ID",type:"info",vertical:"middle"})]),M,l(p,{id:"58",data:[{title:"1"},{title:"2"},{title:"3"},{title:"4"},{title:"5"}],"tab-id":"onedrive_app"},{tab0:n(({title:o,value:a,isActive:r})=>[e("ol",null,[C,e("li",null,[e("p",null,[t("重定向URL(回调参数)，类型选择Web，参数填写： "),e("strong",null,[e("a",E,[t("https://entra.microsoft.com/TokenAuthorize"),l(c)])]),t(" ，否则后面授权时无法授权")])]),e("li",null,[e("p",null,[t("填好后点击下方的注册 跳转后就可以看到"),l(i,{text:"客户端ID",type:"info",vertical:"middle"})])])]),L]),tab1:n(({title:o,value:a,isActive:r})=>[e("p",null,[t("我们去获取一个客户端秘钥，按照下图获取即可，记得"),l(i,{text:"秘钥ID",type:"info",vertical:"middle"}),t("要及时保存，只会出现一次")]),N]),tab2:n(({title:o,value:a,isActive:r})=>[V,P]),tab3:n(({title:o,value:a,isActive:r})=>[U,O,Z,K,F,w]),tab4:n(({title:o,value:a,isActive:r})=>[z,e("p",null,[t("然后通过下面的格式最终授权一下即可，分别是"),l(i,{text:"租户ID",type:"info",vertical:"middle"}),l(i,{text:"客户端ID",type:"info",vertical:"middle"}),l(i,{text:"回调参数URL",type:"info",vertical:"middle"}),t("改成自己的最终登录收取即可")]),J,R]),_:1}),S,e("p",null,[e("strong",null,[e("a",X,[t("https://admin.microsoft.com/Adminportal/Home?source=applauncher#/users"),l(c)])])]),Y,j,l(_,{id:"mermaid-174",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57NaXjYtfr6898mO7hd79z6btvPpnv73e+ZzgdSn5eSXJ2ckFpUohDhxKQBBcUllTqpCoqFCWmZOjpVyUlKaTnFJUX52qpVympkZlK1bnplSkmFlVFChk5yfk18ElEtLQ9ZuBNWelmZuam4KN8HY2BjVBJOCCoi20qT0osSCDIXMlFRDhWiFWLBooiGYSs1LgXKjjQ2MYq2srIrzc1OTcxKLi22BoAbi2ZpEo2igb591bH+xbt/TJe0QI8CqXFLTFOBaYC6zNIMoMIx+NmfNszm7nuxe/HxCW6yuHlDvy4ZOPV07rAYmGUZDVIYG+RBUnJyTmZwNCkwlPT39lKLMstSiYv3k/Nzc/Dy9jJLcHOXy1KSUxDLd52unPZ+6VAlJTxIZepKJ1gMAZ1jb4A=="})])}const $=I(T,[["render",q],["__file","onedrive_app.html.vue"]]);export{$ as default};
