import{c as g,r as V,u as e,N as o,O as n,P as s,a5 as c,a7 as l,Q as a,aa as z,Z as h,G as k,_ as w,a4 as E}from"./framework-65876511.js";import{N as x}from"./Alert-89ee41d3.js";import{N as C}from"./Space-e8f73b8f.js";import"./app-a75274d5.js";import"./Close-e4fd211a.js";const I=a("b",null,"client_id: ",-1),L=a("b",null,"client_secret: ",-1),O=a("b",null,"redirect_uri: ",-1),R=a("b",null,"refresh_token:",-1),U=g({__name:"Callback",setup(P){const _="a78d5a69054042fa936f6c77f9a0ae8b",i="9c119bbb04b346d2a52aa64401936b2b",p="https://alist.nn.ci/tool/yandex/callback",u=new URL(window.location.href),d=u.searchParams.get("code"),m=u.searchParams.get("error"),S=u.searchParams.get("error_description"),t=V();return d&&!m&&(async()=>{const r=new URLSearchParams;r.append("grant_type","authorization_code"),r.append("client_id",_),r.append("client_secret",i),r.append("code",d||"");const f=await(await fetch("https://oauth.yandex.com/token",{method:"POST",body:r})).json();t.value=f})(),(r,B)=>{const f=k("NSpin"),T=k("NInput");return!e(d)||e(m)?(o(),n(e(x),{key:0,title:e(m)||"Error",type:"error"},{default:s(()=>[c(l(e(S)),1)]),_:1},8,["title"])):(o(),n(e(C),{key:1,vertical:"",size:"large"},{default:s(()=>{var b,v,y;return[a("p",null,[I,c(l(_))]),a("p",null,[L,c(l(i))]),a("p",null,[O,c(l(p))]),(b=t.value)!=null&&b.error||(v=t.value)!=null&&v.error_description?(o(),n(e(x),{key:0,title:(y=t.value)==null?void 0:y.error,type:"error"},{default:s(()=>[c(l(t.value.error_description),1)]),_:1},8,["title"])):z("v-if",!0),h(e(C),{vertical:""},{default:s(()=>{var N;return[R,(N=t.value)!=null&&N.refresh_token?(o(),n(T,{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(o(),n(f,{key:0}))]}),_:1})]}),_:1}))}}});const j=w(U,[["__file","Callback.vue"]]),A=g({__name:"callback.html",setup(P){return(_,i)=>{const p=k("NaiveClient");return o(),E("div",null,[h(p,null,{default:s(()=>[h(e(j))]),_:1})])}}}),F=w(A,[["__file","callback.html.vue"]]);export{F as default};
