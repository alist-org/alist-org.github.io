import{N as y}from"./Alert-2e1cf3a5.js";import{c as x,r as z,u as e,N as n,O as c,P as l,a5 as r,a7 as o,Q as a,aa as g,Z as s,G as d,_ as w,a4 as K}from"./framework-65876511.js";import{N as P}from"./Space-ccac3753.js";import"./app-1bf0de2e.js";import"./Close-511d8f95.js";const O=a("b",null,"client_id: ",-1),j=a("b",null,"client_secret: ",-1),E=a("b",null,"redirect_uri: ",-1),F=a("b",null,"refresh_token",-1),I=x({__name:"Callback",setup(V){const f="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",m="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",i="https://alist.nn.ci/tool/baidu/callback",_=new URL(window.location.href),u=_.searchParams.get("code"),p=_.searchParams.get("error"),B=_.searchParams.get("error_description"),t=z();return u&&!p&&(async()=>{const v=await(await fetch(`https://api.nn.ci/alist/baidu/get_refresh_token?code=${u}`)).json();t.value=v})(),(S,v)=>{const G=d("NSpin"),T=d("NInput");return!e(u)||e(p)?(n(),c(e(y),{key:0,title:e(p)||"Error",type:"error"},{default:l(()=>[r(o(e(B)),1)]),_:1},8,["title"])):(n(),c(e(P),{key:1,vertical:"",size:"large"},{default:l(()=>{var k,h,N,b;return[a("p",null,[O,r(o(f))]),a("p",null,[j,r(o(m))]),a("p",null,[E,r(o(i))]),(k=t.value)!=null&&k.error||(h=t.value)!=null&&h.error_description?(n(),c(e(y),{key:0,title:(N=t.value)==null?void 0:N.error,type:"error"},{default:l(()=>[r(o(t.value.error_description),1)]),_:1},8,["title"])):g("v-if",!0),(b=t.value)!=null&&b.refresh_token?g("v-if",!0):(n(),c(G,{key:1})),s(e(P),{vertical:""},{default:l(()=>{var C;return[F,s(T,{type:"textarea",autosize:"",readonly:"",value:(C=t.value)==null?void 0:C.refresh_token},null,8,["value"])]}),_:1})]}),_:1}))}}});const M=w(I,[["__file","Callback.vue"]]),Q=x({__name:"callback.html",setup(V){return(f,m)=>{const i=d("NaiveClient");return n(),K("div",null,[s(i,null,{default:l(()=>[s(e(M))]),_:1})])}}}),A=w(Q,[["__file","callback.html.vue"]]);export{A as default};
